import{r,j as e,y as x}from"./app-d0b799b8.js";import{B as _}from"./react-toastify.esm-8cf3b72f.js";/* empty css                      */import{S as j}from"./react-select.esm-72b0412d.js";function y({onClose:o,show:i,rooms:c,tenant:a}){const[t,n]=r.useState({tenant_name:a.tenant_name,tenant_cnumber:a.tenant_cnumber,tenant_email:a.tenant_email,room_id:a.room_id,start_date:a.start_date,end_date:a.end_date,status:a.status,amount:a.amount,payment_status:a.payment_status});r.useEffect(()=>{a&&n({tenant_name:a.tenant_name||"",tenant_cnumber:a.tenant_cnumber||"",tenant_email:a.tenant_email||"",room_id:a.room?a.room.id:"",start_date:a.start_date||"",end_date:a.end_date||"",status:a.status||"",amount:a.amount||"",payment_status:a.payment_status||""})},[a]);const l=s=>{const{name:m,value:b}=s.target;n({...t,[m]:b})},u=s=>{s.preventDefault(),x.put(`/tenants/${a.id}`,t,{onSuccess:()=>{o(),_.success("Updated Tenant Successfully!")},onError:m=>{console.log("Update failed:",m)}})},d=c.map(s=>({value:s.id,label:s.room_number})),h=d.find(s=>s.value===t.room_id);return e.jsx("div",{className:"modal fade",id:"modal-edittenant",show:i,children:e.jsx("div",{className:"modal-dialog",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("div",{className:"modal-header",children:e.jsx("h4",{className:"modal-title",children:"Edit Tenant"})}),e.jsxs("form",{onSubmit:u,id:"form-addtenant",children:[e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"tentantName",className:"form-label",children:"Name"}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Tenant Name",id:"tenant_name",name:"tenant_name",value:t.tenant_name,onChange:l})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"tenantNumber",className:"form-label",children:"Number"}),e.jsx("input",{type:"text",className:"form-control",id:"tenant_cnumber",name:"tenant_cnumber",value:t.tenant_cnumber,onChange:l})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"tenantNumber",className:"form-label",children:"Email"}),e.jsx("input",{type:"email",className:"form-control",id:"tenant_email",name:"tenant_email",value:t.tenant_email,onChange:l})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"room_id",className:"form-label",children:"Room Number"}),e.jsx(j,{id:"room_id",options:d,value:h,onChange:s=>n({...t,room_id:s?s.value:""}),isClearable:!0})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"tenantstart",className:"form-label",children:"Start Date"}),e.jsx("input",{type:"date",className:"form-control",id:"start_date",name:"start_date",value:t.start_date,onChange:l})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"tenantend",className:"form-label",children:"End Date"}),e.jsx("input",{type:"date",className:"form-control",id:"end_date",name:"end_date",value:t.end_date,onChange:l})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"status",className:"form-label",children:"Status"}),e.jsxs("select",{id:"status",name:"status",className:"form-control",value:t.status,onChange:l,required:!0,children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"tentantName",className:"form-label",children:"Amount"}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Amount of Pay",id:"amount",name:"amount",value:t.amount,onChange:l})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{htmlFor:"paymentStatus",className:"form-label",children:"Payment Status"}),e.jsxs("select",{id:"payment_status",name:"payment_status",className:"form-control",value:t.payment_status,onChange:l,required:!0,children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"Paid",children:"Paid"}),e.jsx("option",{value:"UnPaid",children:"UnPaid"})]})]})]}),e.jsxs("div",{className:"modal-footer justify-content-between",children:[e.jsx("button",{type:"button",className:"btn btn-default","data-dismiss":"modal",onClick:o,children:"Close"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Update"})]})]})]})})})}export{y as default};
