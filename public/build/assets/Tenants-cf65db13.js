import{r as a,j as e,a as T,y as x}from"./app-338178ea.js";import O from"./ContentWrapper-cbd23533.js";import{Q as _}from"./react-toastify.esm-dc17bc4d.js";/* empty css              *//* empty css                      */import{l as A}from"./lodash-93e59f5d.js";import D from"./AddtenantModal-d33a9263.js";import P from"./EdittenantModal-322f32fa.js";import E from"./DeletetenantModal-a07796ae.js";import"./Sidebar-72433e02.js";import"./Navbar-0c9169e2.js";import"./ResponsiveNavLink-2663ad68.js";import"./react-select.esm-17953188.js";function K({rooms:n,tenants:d}){const r=a.useRef(n.per_page),[o,u]=a.useState(""),[I,i]=a.useState(!1),[p,c]=a.useState(!1),[j,b]=a.useState(!1),[g,f]=a.useState(!1),[t,h]=a.useState(null),v=s=>{x.visit(s)},N=s=>{r.current=s.target.value,m()},y=s=>{s.preventDefault(),m()},m=()=>{i(!0),x.get(route().current(),A.pickBy({perpage:r.current,search:o}),{preserveScroll:!0,preserveState:!0,onFinish:()=>i(!1)})},w=()=>{c(!0)},l=()=>{c(!1)},k=s=>{h(s),b(!0)},S=s=>{h(s),f(!0)},C=s=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"Php"}).format(s);return e.jsxs(O,{header:e.jsxs("h1",{className:"m-0",children:[e.jsx("i",{className:"nav-icon fas fa-users",style:{color:"#525252"}})," Tenants"]}),children:[e.jsx("button",{type:"button",className:"mb-2 btn btn-primary","data-toggle":"modal","data-target":"#modal-addtenant",onClick:w,children:"Add Tenant"}),e.jsx("hr",{}),e.jsx(_,{}),e.jsx("div",{id:"loader"}),e.jsxs("div",{class:"flex mt-3",children:[e.jsx("div",{class:"w-1/1",children:e.jsxs("select",{className:"form-control",value:r.current,onChange:N,children:[e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"50",children:"100"})]})}),e.jsx("div",{class:"w-1/2"}),e.jsx("div",{class:"w-1/2",children:e.jsxs("form",{className:"flex items-center max-w-sm mx-auto",onSubmit:y,children:[e.jsx("label",{for:"simple-search",className:"sr-only",children:"Search"}),e.jsx("div",{className:"relative w-full",children:e.jsx("input",{type:"text",id:"simple-search",value:o,onChange:s=>u(s.target.value),className:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Search tenant name...",required:!0})}),e.jsxs("button",{type:"submit",className:"p-2.5 ms-2 text-sm font-medium text-white bg-blue-700 rounded-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:[e.jsx("svg",{className:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:e.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})}),e.jsx("span",{className:"sr-only",children:"Search"})]}),e.jsxs(T,{href:"/tenants",children:[" ",e.jsxs("button",{type:"submit",class:"inline-flex items-center px-4 py-2 bg-indigo-500 hover:bg-indigo-600 text-white text-sm font-medium rounded-md",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Clear"]})]})]})})]}),e.jsxs("div",{className:"mt-3 table-responsive",children:[e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Number"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Room#"}),e.jsx("th",{children:"Start Date"}),e.jsx("th",{children:"End Date"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Payment Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:d.data.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:s.id}),e.jsx("td",{children:s.tenant_name}),e.jsx("td",{children:s.tenant_cnumber}),e.jsx("td",{children:s.tenant_email}),e.jsx("td",{children:s.room_number}),e.jsx("td",{children:s.start_date}),e.jsx("td",{children:s.end_date?e.jsx("span",{className:"badge badge-info",style:{color:"#d4d943"},children:s.end_date}):"Ongoing"}),e.jsxs("td",{children:[C(s.amount)," "]}),e.jsx("td",{children:s.payment_status==="Paid"?e.jsx("span",{className:"badge badge-success",children:"Paid"}):e.jsx("span",{className:"badge badge-warning text-light",children:"UnPaid"})}),e.jsx("td",{children:e.jsx("div",{children:e.jsxs("div",{className:"d-flex",children:[e.jsx("div",{className:"flex-1",children:e.jsx("button",{className:"btn btn-primary btn-sm me-2","data-toggle":"modal","data-target":"#modal-edittenant",onClick:()=>S(s),children:e.jsx("i",{className:"fas fa-pen"})})}),e.jsx("div",{className:"flex-1"}),e.jsx("button",{className:"btn btn-danger btn-sm","data-toggle":"modal","data-target":"#modal-deletetenant",onClick:()=>k(s),children:e.jsx("i",{className:"fas fa-trash"})})]})})})]},s.id))})]}),e.jsx("div",{className:"mb-3 pagination",children:d.links.map((s,M)=>e.jsx("button",{onClick:()=>v(s.url),disabled:!s.url||s.active,className:s.active?"active":"",children:s.label},M))})]}),p&&e.jsx(D,{onClose:l,rooms:n}),g&&e.jsx(P,{onClose:l,tenant:t,rooms:n}),j&&e.jsx(E,{onClose:l,tenantId:t==null?void 0:t.id,TenantName:t==null?void 0:t.tenant_name})]})}export{K as default};
