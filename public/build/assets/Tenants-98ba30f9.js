import{r as t,j as e,a as x,y as C}from"./app-7b82f02a.js";import T from"./ContentWrapper-fee6d174.js";import{Q as _}from"./react-toastify.esm-e877018a.js";/* empty css              *//* empty css                      */import{l as O}from"./lodash-83807276.js";import A from"./AddtenantModal-0f20bb12.js";import D from"./EdittenantModal-41c2374a.js";import I from"./DeletetenantModal-b94b53aa.js";import"./Sidebar-909f7619.js";import"./Navbar-383bdc3e.js";import"./ResponsiveNavLink-a6fa4178.js";import"./react-select.esm-b6d8ac78.js";function G({rooms:n,tenants:d}){const r=t.useRef(n.per_page),[o,u]=t.useState(""),[E,i]=t.useState(!1),[p,c]=t.useState(!1),[j,g]=t.useState(!1),[b,f]=t.useState(!1),[a,h]=t.useState(null),v=s=>{r.current=s.target.value,m()},N=s=>{s.preventDefault(),m()},m=()=>{i(!0),C.get(route().current(),O.pickBy({perpage:r.current,search:o}),{preserveScroll:!0,preserveState:!0,onFinish:()=>i(!1)})},y=()=>{c(!0)},l=()=>{c(!1)},w=s=>{h(s),g(!0)},k=s=>{h(s),f(!0)},S=s=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"Php"}).format(s);return e.jsxs(T,{header:e.jsxs("h1",{className:"m-0",children:[e.jsx("i",{className:"nav-icon fas fa-users",style:{color:"#525252"}})," Tenants"]}),children:[e.jsx("button",{type:"button",className:"mb-2 btn btn-primary","data-toggle":"modal","data-target":"#modal-addtenant",onClick:y,children:"Add Tenant"}),e.jsx("hr",{}),e.jsx(_,{}),e.jsx("div",{id:"loader"}),e.jsxs("div",{class:"flex mt-3",children:[e.jsx("div",{class:"w-1/1",children:e.jsxs("select",{className:"form-control",value:r.current,onChange:v,children:[e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"50",children:"100"})]})}),e.jsx("div",{class:"w-1/2"}),e.jsx("div",{class:"w-1/2",children:e.jsxs("form",{className:"flex items-center max-w-sm mx-auto",onSubmit:N,children:[e.jsx("label",{for:"simple-search",className:"sr-only",children:"Search"}),e.jsx("div",{className:"relative w-full",children:e.jsx("input",{type:"text",id:"simple-search",value:o,onChange:s=>u(s.target.value),className:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Search tenant name...",required:!0})}),e.jsxs("button",{type:"submit",className:"p-2.5 ms-2 text-sm font-medium text-white bg-blue-700 rounded-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:[e.jsx("svg",{className:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:e.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})}),e.jsx("span",{className:"sr-only",children:"Search"})]}),e.jsxs(x,{href:"/tenants",children:[" ",e.jsxs("button",{type:"submit",class:"inline-flex items-center px-4 py-2 bg-indigo-500 hover:bg-indigo-600 text-white text-sm font-medium rounded-md",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Clear"]})]})]})})]}),e.jsxs("div",{className:"mt-3 table-responsive",children:[e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Number"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Room#"}),e.jsx("th",{children:"Start Date"}),e.jsx("th",{children:"End Date"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Payment Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:d.data.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:s.id}),e.jsx("td",{children:s.tenant_name}),e.jsx("td",{children:s.tenant_cnumber}),e.jsx("td",{children:s.tenant_email}),e.jsx("td",{children:s.room_number}),e.jsx("td",{children:s.start_date}),e.jsx("td",{children:s.end_date?e.jsx("span",{className:"badge badge-info",style:{color:"#d4d943"},children:s.end_date}):"Ongoing"}),e.jsxs("td",{children:[S(s.amount)," "]}),e.jsx("td",{children:s.payment_status==="Paid"?e.jsx("span",{className:"badge badge-success",children:"Paid"}):e.jsx("span",{className:"badge badge-warning text-light",children:"UnPaid"})}),e.jsx("td",{children:e.jsx("div",{children:e.jsxs("div",{className:"d-flex",children:[e.jsx("div",{className:"flex-1",children:e.jsx("button",{className:"btn btn-primary btn-sm me-2","data-toggle":"modal","data-target":"#modal-edittenant",onClick:()=>k(s),children:e.jsx("i",{className:"fas fa-pen"})})}),e.jsx("div",{className:"flex-1"}),e.jsx("button",{className:"btn btn-danger btn-sm","data-toggle":"modal","data-target":"#modal-deletetenant",onClick:()=>w(s),children:e.jsx("i",{className:"fas fa-trash"})})]})})})]},s.id))})]}),e.jsx("nav",{children:e.jsx("ul",{className:"pagination mb-3",children:d.links.map((s,M)=>e.jsx("li",{className:`page-item ${s.active?"active":""}`,children:e.jsx(x,{href:s.url,className:"page-link",dangerouslySetInnerHTML:{__html:s.label}})},M))})})]}),p&&e.jsx(A,{onClose:l,rooms:n}),b&&e.jsx(D,{onClose:l,tenant:a,rooms:n}),j&&e.jsx(I,{onClose:l,tenantId:a==null?void 0:a.id,TenantName:a==null?void 0:a.tenant_name})]})}export{G as default};
